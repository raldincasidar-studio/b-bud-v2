import{V as P,u as _}from"./D5aiOZRS.js";import{V as v,a as N,b as k}from"./CvUXy4I6.js";import{V as w}from"./C9tprT_e.js";import{V as x}from"./CStfV2cw.js";import{V as y}from"./Bb30CAwj.js";import{r as m,H as u,A as a,v as r,z as s,x as V,I as B,J as n,B as i,t as g,M as C,N as D,y as d}from"./C--9Cswe.js";import"./CeNjggp3.js";import"./m4gJcNhv.js";import"./VAO4iTRl.js";import"./CneUzhey.js";const F={class:"my-10"},I={key:0},E={__name:"itenerary",setup(S){const l=m(""),c=m(0),p=m([]);async function h(o){console.log(o);const{data:e,error:t}=await _("/api/itenerary",{query:{search:o.search,page:o.page,itemsPerPage:o.itemsPerPage}});p.value=e.value.data,c.value=e.value.pagination.total,console.log(e.value.data)}return(o,e)=>(r(),u(v,{class:"my-10"},{default:a(()=>[s(N,{justify:"space-between"},{default:a(()=>[s(k,null,{default:a(()=>e[1]||(e[1]=[V("h2",null,"Itenerary Report",-1)])),_:1})]),_:1}),V("div",F,[s(P,{modelValue:n(l),"onUpdate:modelValue":e[0]||(e[0]=t=>B(l)?l.value=t:null),"prepend-inner-icon":"mdi-magnify",variant:"outlined",color:"primary",label:"Search Products",placeholder:"Search for Account ID, Name, Collector, etc...",rounded:"lg"},null,8,["modelValue"]),s(w,{"items-length":n(c),search:n(l),items:n(p),"onUpdate:options":h},{"item.past_due":a(t=>[i(d(t.item.past_due)+"th day of month ",1)]),"item.hasPastDue":a(t=>[t.item.hasPastDue.length>0?(r(),g("span",I,[(r(!0),g(C,null,D(t.item.hasPastDue,f=>(r(),u(y,{class:"ma-1",color:"red",size:"small"},{default:a(()=>[i(d(f.due_month)+" (Paid: "+d(new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(f.totalPaid))+")",1)]),_:2},1024))),256))])):(r(),u(y,{key:1,class:"ma-1",color:"green",size:"small"},{default:a(()=>e[2]||(e[2]=[i("No Past Dues")])),_:1}))]),"item.action":a(t=>[s(x,{variant:"outlined",color:"grey-darken-2",to:`/employees/${t.item.id}`,"prepend-icon":"mdi-eye"},{default:a(()=>e[3]||(e[3]=[i("View")])),_:2},1032,["to"])]),_:1},8,["items-length","search","items"])])]),_:1}))}};export{E as default};
