import{R as z,S as L,U as j,r as X,V as ye,W as Pe,X as ce,j as D,Y as Te,Z as J,z as l,M as ue,$ as _,a0 as ge,a1 as se,a2 as ot,a3 as oe,a4 as ie,a5 as K,Q as ne,B as Be,a6 as ae,a7 as Ne,a8 as rt,o as st,a9 as ke,aa as dt,ab as We,ac as ct,ad as vt,ae as ft,af as mt,ag as ht,ah as Ce,ai as xe,aj as kt,ak as yt,al as gt}from"./CiA_oicf.js";import{V as Z,a as Vt}from"./DiBmJwpk.js";import"./BlJHhmKW.js";import{c as Ee,u as Ve,M as Ue,b as ve,d as bt,e as Dt,f as Pt,g as Ct,h as xt,i as St,m as pt,j as wt,k as Mt,l as At,n as _t,o as It,p as Ot,q as Ft,r as Yt,V as Se,a as Rt}from"./BUJoXXNz.js";import{b as $e,u as Tt,m as Bt,c as Nt,d as Wt,V as Et}from"./DDjf37J6.js";import{a as Ut,V as de,f as He,m as je,b as $t,c as Ht}from"./C9gZUG4V.js";import{u as jt,m as Lt,h as Kt}from"./Du5WEFTM.js";import{u as zt,a as Jt,b as pe}from"./D8x_SnBP.js";const qt=Ee("v-spacer","div","VSpacer"),Le=L({modelValue:null,color:String,cancelText:{type:String,default:"$vuetify.confirmEdit.cancel"},okText:{type:String,default:"$vuetify.confirmEdit.ok"},disabled:{type:[Boolean,Array],default:void 0},hideActions:Boolean},"VConfirmEdit"),we=z()({name:"VConfirmEdit",props:Le(),emits:{cancel:()=>!0,save:e=>!0,"update:modelValue":e=>!0},setup(e,n){let{emit:r,slots:d}=n;const t=j(e,"modelValue"),i=X();ye(()=>{i.value=structuredClone(Pe(t.value))});const{t:f}=ce(),v=D(()=>Te(t.value,i.value));function s(g){return typeof e.disabled=="boolean"?e.disabled:Array.isArray(e.disabled)?e.disabled.includes(g):v.value}const m=D(()=>s("save")),u=D(()=>s("cancel"));function b(){t.value=i.value,r("save",i.value)}function p(){i.value=structuredClone(Pe(t.value)),r("cancel")}function c(g){return l(ue,null,[l(Z,_({disabled:u.value,variant:"text",color:e.color,onClick:p,text:f(e.cancelText)},g),null),l(Z,_({disabled:m.value,variant:"text",color:e.color,onClick:b,text:f(e.okText)},g),null)])}let k=!1;return J(()=>{var g;return l(ue,null,[(g=d.default)==null?void 0:g.call(d,{model:i,save:b,cancel:p,isPristine:v.value,get actions(){return k=!0,c}}),!e.hideActions&&!k&&c()])}),{save:b,cancel:p,isPristine:v}}}),Ke=L({active:{type:[String,Array],default:void 0},controlHeight:[Number,String],disabled:{type:[Boolean,String,Array],default:null},nextIcon:{type:se,default:"$next"},prevIcon:{type:se,default:"$prev"},modeIcon:{type:se,default:"$subgroup"},text:String,viewMode:{type:String,default:"month"}},"VDatePickerControls"),Me=z()({name:"VDatePickerControls",props:Ke(),emits:{"click:year":()=>!0,"click:month":()=>!0,"click:prev":()=>!0,"click:next":()=>!0,"click:text":()=>!0},setup(e,n){let{emit:r}=n;const d=D(()=>Array.isArray(e.disabled)?e.disabled.includes("text"):!!e.disabled),t=D(()=>Array.isArray(e.disabled)?e.disabled.includes("mode"):!!e.disabled),i=D(()=>Array.isArray(e.disabled)?e.disabled.includes("prev"):!!e.disabled),f=D(()=>Array.isArray(e.disabled)?e.disabled.includes("next"):!!e.disabled);function v(){r("click:prev")}function s(){r("click:next")}function m(){r("click:year")}function u(){r("click:month")}return J(()=>l("div",{class:["v-date-picker-controls"],style:{"--v-date-picker-controls-height":ge(e.controlHeight)}},[l(Z,{class:"v-date-picker-controls__month-btn","data-testid":"month-btn",disabled:d.value,text:e.text,variant:"text",rounded:!0,onClick:u},null),l(Z,{class:"v-date-picker-controls__mode-btn","data-testid":"year-btn",disabled:t.value,density:"comfortable",icon:e.modeIcon,variant:"text",onClick:m},null),l(qt,null,null),l("div",{class:"v-date-picker-controls__month"},[l(Z,{"data-testid":"prev-month",disabled:i.value,density:"comfortable",icon:e.prevIcon,variant:"text",onClick:v},null),l(Z,{"data-testid":"next-month",disabled:f.value,icon:e.nextIcon,density:"comfortable",variant:"text",onClick:s},null)])])),{}}}),Qt=L({appendIcon:se,color:String,header:String,transition:String,onClick:ot()},"VDatePickerHeader"),Ae=z()({name:"VDatePickerHeader",props:Qt(),emits:{click:()=>!0,"click:append":()=>!0},setup(e,n){let{emit:r,slots:d}=n;const{backgroundColorClasses:t,backgroundColorStyles:i}=Ve(e,"color");function f(){r("click")}function v(){r("click:append")}return J(()=>{const s=!!(d.default||e.header),m=!!(d.append||e.appendIcon);return l("div",{class:["v-date-picker-header",{"v-date-picker-header--clickable":!!e.onClick},t.value],style:i.value,onClick:f},[d.prepend&&l("div",{key:"prepend",class:"v-date-picker-header__prepend"},[d.prepend()]),s&&l(Ue,{key:"content",name:e.transition},{default:()=>{var u;return[l("div",{key:e.header,class:"v-date-picker-header__content"},[((u=d.default)==null?void 0:u.call(d))??e.header])]}}),m&&l("div",{class:"v-date-picker-header__append"},[d.append?l(ve,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VBtn:{icon:e.appendIcon,variant:"text"}}},{default:()=>{var u;return[(u=d.append)==null?void 0:u.call(d)]}}):l(Z,{key:"append-btn",icon:e.appendIcon,variant:"text",onClick:v},null)])])}),{}}}),Xt=L({allowedDates:[Array,Function],disabled:{type:Boolean,default:null},displayValue:null,modelValue:Array,month:[Number,String],max:null,min:null,showAdjacentMonths:Boolean,year:[Number,String],weekdays:{type:Array,default:()=>[0,1,2,3,4,5,6]},weeksInMonth:{type:String,default:"dynamic"},firstDayOfWeek:{type:[Number,String],default:void 0}},"calendar");function Zt(e){const n=oe(),r=j(e,"modelValue",[],c=>ie(c).map(k=>n.date(k))),d=D(()=>e.displayValue?n.date(e.displayValue):r.value.length>0?n.date(r.value[0]):e.min?n.date(e.min):Array.isArray(e.allowedDates)?n.date(e.allowedDates[0]):n.date()),t=j(e,"year",void 0,c=>{const k=c!=null?Number(c):n.getYear(d.value);return n.startOfYear(n.setYear(n.date(),k))},c=>n.getYear(c)),i=j(e,"month",void 0,c=>{const k=c!=null?Number(c):n.getMonth(d.value),g=n.setYear(n.startOfMonth(n.date()),n.getYear(t.value));return n.setMonth(g,k)},c=>n.getMonth(c)),f=D(()=>{const c=n.toJsDate(n.startOfWeek(n.date(),e.firstDayOfWeek)).getDay();return[0,1,2,3,4,5,6].map(k=>(k+c)%7)}),v=D(()=>{const c=n.getWeekArray(i.value,e.firstDayOfWeek),k=c.flat(),g=6*7;if(e.weeksInMonth==="static"&&k.length<g){const B=k[k.length-1];let y=[];for(let a=1;a<=g-k.length;a++)y.push(n.addDays(B,a)),a%7===0&&(c.push(y),y=[])}return c});function s(c,k){return c.filter(g=>f.value.includes(n.toJsDate(g).getDay())).map((g,B)=>{const y=n.toISO(g),a=!n.isSameMonth(g,i.value),N=n.isSameDay(g,n.startOfMonth(i.value)),Y=n.isSameDay(g,n.endOfMonth(i.value)),R=n.isSameDay(g,i.value);return{date:g,isoDate:y,formatted:n.format(g,"keyboardDate"),year:n.getYear(g),month:n.getMonth(g),isDisabled:p(g),isWeekStart:B%7===0,isWeekEnd:B%7===6,isToday:n.isSameDay(g,k),isAdjacent:a,isHidden:a&&!e.showAdjacentMonths,isStart:N,isSelected:r.value.some(G=>n.isSameDay(g,G)),isEnd:Y,isSame:R,localized:n.format(g,"dayOfMonth")}})}const m=D(()=>{const c=n.startOfWeek(d.value,e.firstDayOfWeek),k=[];for(let B=0;B<=6;B++)k.push(n.addDays(c,B));const g=n.date();return s(k,g)}),u=D(()=>{const c=v.value.flat(),k=n.date();return s(c,k)}),b=D(()=>v.value.map(c=>c.length?n.getWeek(c[0],e.firstDayOfWeek):null));function p(c){if(e.disabled)return!0;const k=n.date(c);return e.min&&n.isAfter(n.date(e.min),k)||e.max&&n.isAfter(k,n.date(e.max))?!0:Array.isArray(e.allowedDates)&&e.allowedDates.length>0?!e.allowedDates.some(g=>n.isSameDay(n.date(g),k)):typeof e.allowedDates=="function"?!e.allowedDates(k):!e.weekdays.includes(n.toJsDate(k).getDay())}return{displayValue:d,daysInMonth:u,daysInWeek:m,genDays:s,model:r,weeksInMonth:v,weekDays:f,weekNumbers:b}}const ze=L({color:String,hideWeekdays:Boolean,multiple:[Boolean,Number,String],showWeek:Boolean,transition:{type:String,default:"picker-transition"},reverseTransition:{type:String,default:"picker-reverse-transition"},...ae(Xt(),["displayValue"])},"VDatePickerMonth"),_e=z()({name:"VDatePickerMonth",props:ze(),emits:{"update:modelValue":e=>!0,"update:month":e=>!0,"update:year":e=>!0},setup(e,n){let{emit:r,slots:d}=n;const t=X(),{daysInMonth:i,model:f,weekNumbers:v}=Zt(e),s=oe(),m=K(),u=K(),b=K(!1),p=D(()=>b.value?e.reverseTransition:e.transition);e.multiple==="range"&&f.value.length>0&&(m.value=f.value[0],f.value.length>1&&(u.value=f.value[f.value.length-1]));const c=D(()=>{const y=["number","string"].includes(typeof e.multiple)?Number(e.multiple):1/0;return f.value.length>=y});ne(i,(y,a)=>{a&&(b.value=s.isBefore(y[0].date,a[0].date))});function k(y){const a=s.startOfDay(y);if(f.value.length===0?m.value=void 0:f.value.length===1&&(m.value=f.value[0],u.value=void 0),!m.value)m.value=a,f.value=[m.value];else if(u.value)m.value=y,u.value=void 0,f.value=[m.value];else{if(s.isSameDay(a,m.value)){m.value=void 0,f.value=[];return}else s.isBefore(a,m.value)?(u.value=s.endOfDay(m.value),m.value=a):u.value=s.endOfDay(a);const N=s.getDiff(u.value,m.value,"days"),Y=[m.value];for(let R=1;R<N;R++){const G=s.addDays(m.value,R);Y.push(G)}Y.push(u.value),f.value=Y}}function g(y){const a=f.value.findIndex(N=>s.isSameDay(N,y));if(a===-1)f.value=[...f.value,y];else{const N=[...f.value];N.splice(a,1),f.value=N}}function B(y){e.multiple==="range"?k(y):e.multiple?g(y):f.value=[y]}J(()=>l("div",{class:"v-date-picker-month"},[e.showWeek&&l("div",{key:"weeks",class:"v-date-picker-month__weeks"},[!e.hideWeekdays&&l("div",{key:"hide-week-days",class:"v-date-picker-month__day"},[Be(" ")]),v.value.map(y=>l("div",{class:["v-date-picker-month__day","v-date-picker-month__day--adjacent"]},[y]))]),l(Ue,{name:p.value},{default:()=>{var y;return[l("div",{ref:t,key:(y=i.value[0].date)==null?void 0:y.toString(),class:"v-date-picker-month__days"},[!e.hideWeekdays&&s.getWeekdays(e.firstDayOfWeek).map(a=>l("div",{class:["v-date-picker-month__day","v-date-picker-month__weekday"]},[a])),i.value.map((a,N)=>{var R;const Y={props:{class:"v-date-picker-month__day-btn",color:a.isSelected||a.isToday?e.color:void 0,disabled:a.isDisabled,icon:!0,ripple:!1,text:a.localized,variant:a.isSelected?"flat":a.isToday?"outlined":"text",onClick:()=>B(a.date)},item:a,i:N};return c.value&&!a.isSelected&&(a.isDisabled=!0),l("div",{class:["v-date-picker-month__day",{"v-date-picker-month__day--adjacent":a.isAdjacent,"v-date-picker-month__day--hide-adjacent":a.isHidden,"v-date-picker-month__day--selected":a.isSelected,"v-date-picker-month__day--week-end":a.isWeekEnd,"v-date-picker-month__day--week-start":a.isWeekStart}],"data-v-date":a.isDisabled?void 0:a.isoDate},[(e.showAdjacentMonths||!a.isAdjacent)&&(((R=d.day)==null?void 0:R.call(d,Y))??l(Z,Y.props,null))])})])]}})]))}}),Je=L({color:String,height:[String,Number],min:null,max:null,modelValue:Number,year:Number},"VDatePickerMonths"),Ie=z()({name:"VDatePickerMonths",props:Je(),emits:{"update:modelValue":e=>!0},setup(e,n){let{emit:r,slots:d}=n;const t=oe(),i=j(e,"modelValue"),f=D(()=>{let v=t.startOfYear(t.date());return e.year&&(v=t.setYear(v,e.year)),Ne(12).map(s=>{const m=t.format(v,"monthShort"),u=!!(e.min&&t.isAfter(t.startOfMonth(t.date(e.min)),v)||e.max&&t.isAfter(v,t.startOfMonth(t.date(e.max))));return v=t.getNextMonth(v),{isDisabled:u,text:m,value:s}})});return ye(()=>{i.value=i.value??t.getMonth(t.date())}),J(()=>l("div",{class:"v-date-picker-months",style:{height:ge(e.height)}},[l("div",{class:"v-date-picker-months__content"},[f.value.map((v,s)=>{var b;const m={active:i.value===s,color:i.value===s?e.color:void 0,disabled:v.isDisabled,rounded:!0,text:v.text,variant:i.value===v.value?"flat":"text",onClick:()=>u(s)};function u(p){if(i.value===p){r("update:modelValue",i.value);return}i.value=p}return((b=d.month)==null?void 0:b.call(d,{month:v,i:s,props:m}))??l(Z,_({key:"month"},m),null)})])])),{}}}),qe=L({color:String,height:[String,Number],min:null,max:null,modelValue:Number},"VDatePickerYears"),Oe=z()({name:"VDatePickerYears",props:qe(),emits:{"update:modelValue":e=>!0},setup(e,n){let{emit:r,slots:d}=n;const t=oe(),i=j(e,"modelValue"),f=D(()=>{const s=t.getYear(t.date());let m=s-100,u=s+52;e.min&&(m=t.getYear(t.date(e.min))),e.max&&(u=t.getYear(t.date(e.max)));let b=t.startOfYear(t.date());return b=t.setYear(b,m),Ne(u-m+1,m).map(p=>{const c=t.format(b,"year");return b=t.setYear(b,t.getYear(b)+1),{text:c,value:p}})});ye(()=>{i.value=i.value??t.getYear(t.date())});const v=rt();return st(async()=>{var s;await ke(),(s=v.el)==null||s.scrollIntoView({block:"center"})}),J(()=>l("div",{class:"v-date-picker-years",style:{height:ge(e.height)}},[l("div",{class:"v-date-picker-years__content"},[f.value.map((s,m)=>{var b;const u={ref:i.value===s.value?v:void 0,active:i.value===s.value,color:i.value===s.value?e.color:void 0,rounded:!0,text:s.text,variant:i.value===s.value?"flat":"text",onClick:()=>{if(i.value===s.value){r("update:modelValue",i.value);return}i.value=s.value}};return((b=d.year)==null?void 0:b.call(d,{year:s,i:m,props:u}))??l(Z,_({key:"month"},u),null)})])])),{}}}),Gt=Ee("v-picker-title"),Qe=L({color:String,...Ot(),...vt(),...It(),..._t(),...At(),...Mt(),...wt(),...pt(),...ct()},"VSheet"),Fe=z()({name:"VSheet",props:Qe(),setup(e,n){let{slots:r}=n;const{themeClasses:d}=dt(e),{backgroundColorClasses:t,backgroundColorStyles:i}=Ve(We(e,"color")),{borderClasses:f}=bt(e),{dimensionStyles:v}=Dt(e),{elevationClasses:s}=Pt(e),{locationStyles:m}=Ct(e),{positionClasses:u}=xt(e),{roundedClasses:b}=St(e);return J(()=>l(e.tag,{class:["v-sheet",d.value,t.value,f.value,s.value,u.value,b.value,e.class],style:[i.value,v.value,m.value,e.style]},r)),{}}}),Xe=L({bgColor:String,divided:Boolean,landscape:Boolean,title:String,hideHeader:Boolean,...Qe()},"VPicker"),Ye=z()({name:"VPicker",props:Xe(),setup(e,n){let{slots:r}=n;const{backgroundColorClasses:d,backgroundColorStyles:t}=Ve(We(e,"color"));return J(()=>{const i=Fe.filterProps(e),f=!!(e.title||r.title);return l(Fe,_(i,{color:e.bgColor,class:["v-picker",{"v-picker--divided":e.divided,"v-picker--landscape":e.landscape,"v-picker--with-actions":!!r.actions},e.class],style:e.style}),{default:()=>{var v;return[!e.hideHeader&&l("div",{key:"header",class:[d.value],style:[t.value]},[f&&l(Gt,{key:"picker-title"},{default:()=>{var s;return[((s=r.title)==null?void 0:s.call(r))??e.title]}}),r.header&&l("div",{class:"v-picker__header"},[r.header()])]),l("div",{class:"v-picker__body"},[(v=r.default)==null?void 0:v.call(r)]),r.actions&&l(ve,{defaults:{VBtn:{slim:!0,variant:"text"}}},{default:()=>[l("div",{class:"v-picker__actions"},[r.actions()])]})]}})}),{}}}),Ze=L({header:{type:String,default:"$vuetify.datePicker.header"},headerColor:String,...Ke(),...ze({weeksInMonth:"static"}),...ae(Je(),["modelValue"]),...ae(qe(),["modelValue"]),...Xe({title:"$vuetify.datePicker.title"}),modelValue:null},"VDatePicker"),Re=z()({name:"VDatePicker",props:Ze(),emits:{"update:modelValue":e=>!0,"update:month":e=>!0,"update:year":e=>!0,"update:viewMode":e=>!0},setup(e,n){let{emit:r,slots:d}=n;const t=oe(),{t:i}=ce(),{rtlClasses:f}=ft(),v=j(e,"modelValue",void 0,h=>ie(h).map(C=>t.date(C)),h=>e.multiple?h:h[0]),s=j(e,"viewMode"),m=D(()=>{const h=t.date(e.min);return e.min&&t.isValid(h)?h:null}),u=D(()=>{const h=t.date(e.max);return e.max&&t.isValid(h)?h:null}),b=D(()=>{var O;const h=t.date();let C=h;return(O=v.value)!=null&&O[0]?C=t.date(v.value[0]):m.value&&t.isBefore(h,m.value)?C=m.value:u.value&&t.isAfter(h,u.value)&&(C=u.value),C&&t.isValid(C)?C:h}),p=D(()=>e.headerColor??e.color),c=X(Number(e.month??t.getMonth(t.startOfMonth(b.value)))),k=X(Number(e.year??t.getYear(t.startOfYear(t.setMonth(b.value,c.value))))),g=K(!1),B=D(()=>e.multiple&&v.value.length>1?i("$vuetify.datePicker.itemsSelected",v.value.length):v.value[0]&&t.isValid(v.value[0])?t.format(t.date(v.value[0]),"normalDateWithWeekday"):i(e.header)),y=D(()=>{let h=t.date();return h=t.setDate(h,1),h=t.setMonth(h,c.value),h=t.setYear(h,k.value),t.format(h,"monthAndYear")}),a=D(()=>`date-picker-header${g.value?"-reverse":""}-transition`),N=D(()=>{if(e.disabled)return!0;const h=[];if(s.value!=="month")h.push("prev","next");else{let C=t.date();if(C=t.startOfMonth(C),C=t.setMonth(C,c.value),C=t.setYear(C,k.value),m.value){const O=t.addDays(t.startOfMonth(C),-1);t.isAfter(m.value,O)&&h.push("prev")}if(u.value){const O=t.addDays(t.endOfMonth(C),1);t.isAfter(O,u.value)&&h.push("next")}}return h});function Y(){c.value<11?c.value++:(k.value++,c.value=0,V(k.value)),E(c.value)}function R(){c.value>0?c.value--:(k.value--,c.value=11,V(k.value)),E(c.value)}function G(){s.value="month"}function W(){s.value=s.value==="months"?"month":"months"}function ee(){s.value=s.value==="year"?"month":"year"}function E(h){s.value==="months"&&W(),r("update:month",h)}function V(h){s.value==="year"&&ee(),r("update:year",h)}return ne(v,(h,C)=>{const O=ie(C),x=ie(h);if(!x.length)return;const te=t.date(O[O.length-1]),$=t.date(x[x.length-1]),q=t.getMonth($),w=t.getYear($);q!==c.value&&(c.value=q,E(c.value)),w!==k.value&&(k.value=w,V(k.value)),g.value=t.isBefore(te,$)}),J(()=>{const h=Ye.filterProps(e),C=Me.filterProps(e),O=Ae.filterProps(e),x=_e.filterProps(e),te=ae(Ie.filterProps(e),["modelValue"]),$=ae(Oe.filterProps(e),["modelValue"]),q={color:p.value,header:B.value,transition:a.value};return l(Ye,_(h,{color:p.value,class:["v-date-picker",`v-date-picker--${s.value}`,{"v-date-picker--show-week":e.showWeek},f.value,e.class],style:e.style}),{title:()=>{var w;return((w=d.title)==null?void 0:w.call(d))??l("div",{class:"v-date-picker__title"},[i(e.title)])},header:()=>d.header?l(ve,{defaults:{VDatePickerHeader:{...q}}},{default:()=>{var w;return[(w=d.header)==null?void 0:w.call(d,q)]}}):l(Ae,_({key:"header"},O,q,{onClick:s.value!=="month"?G:void 0}),{...d,default:void 0}),default:()=>l(ue,null,[l(Me,_(C,{disabled:N.value,text:y.value,"onClick:next":Y,"onClick:prev":R,"onClick:month":W,"onClick:year":ee}),null),l(Vt,{hideOnLeave:!0},{default:()=>[s.value==="months"?l(Ie,_({key:"date-picker-months"},te,{modelValue:c.value,"onUpdate:modelValue":[w=>c.value=w,E],min:m.value,max:u.value,year:k.value}),null):s.value==="year"?l(Oe,_({key:"date-picker-years"},$,{modelValue:k.value,"onUpdate:modelValue":[w=>k.value=w,V],min:m.value,max:u.value}),null):l(_e,_({key:"date-picker-month"},x,{modelValue:v.value,"onUpdate:modelValue":w=>v.value=w,month:c.value,"onUpdate:month":[w=>c.value=w,E],year:k.value,"onUpdate:year":[w=>k.value=w,V],min:m.value,max:u.value}),null)]})]),actions:d.actions})}),{}}}),ea=L({displayFormat:[Function,String],location:{type:String,default:"bottom start"},...ht(),...$t(),...Le({hideActions:!0}),...je({placeholder:"mm/dd/yyyy",prependIcon:"$calendar"}),...ae(Ze({hideHeader:!0,showAdjacentMonths:!0}),["active","location","rounded"])},"VDateInput"),da=z()({name:"VDateInput",props:ea(),emits:{save:e=>!0,cancel:()=>!0,"update:modelValue":e=>!0},setup(e,n){let{emit:r,slots:d}=n;const{t}=ce(),i=oe(),{mobile:f}=mt(e),{isFocused:v,focus:s,blur:m}=Ut(e),u=j(e,"modelValue",e.multiple?[]:null,V=>Array.isArray(V)?V.map(h=>i.toJsDate(h)):V&&i.toJsDate(V),V=>Array.isArray(V)?V.map(h=>i.date(h)):V&&i.date(V)),b=K(!1),p=K(!1),c=X(),k=X(["save"]);function g(V){return typeof e.displayFormat=="function"?e.displayFormat(V):i.format(V,e.displayFormat??"keyboardDate")}const B=D(()=>{const V=ie(u.value);if(!V.length)return null;if(e.multiple===!0)return t("$vuetify.datePicker.itemsSelected",V.length);if(e.multiple==="range"){const h=V[0],C=V[V.length-1];return!i.isValid(h)||!i.isValid(C)?"":`${g(i.date(h))} - ${g(i.date(C))}`}return i.isValid(u.value)?g(i.date(u.value)):""}),y=D(()=>{if(f.value)return p.value?"text":"none"}),a=D(()=>!e.disabled&&!e.readonly),N=D(()=>!(f.value&&p.value)&&e.readonly);ne(b,V=>{V||(p.value=!1,k.value=["save"])});function Y(V){if(V.key!=="Enter")return;if(!b.value||!v.value){b.value=!0;return}const h=V.target;u.value=i.isValid(h.value)?h.value:null}function R(V){V.preventDefault(),V.stopPropagation(),b.value&&f.value?p.value=!0:b.value=!0}function G(){r("cancel"),b.value=!1,p.value=!1}function W(V){r("save",V),b.value=!1}function ee(V){V==null&&(u.value=null)}function E(){m(),f.value&&p.value&&!v.value&&(b.value=!1,p.value=!1)}return J(()=>{const V=we.filterProps(e),h=Re.filterProps(ae(e,["active","location","rounded"])),C=de.filterProps(e);return l(de,_({ref:c},C,{class:e.class,style:e.style,modelValue:B.value,inputmode:y.value,readonly:N.value,onKeydown:a.value?Y:void 0,focused:b.value||v.value,onFocus:s,onBlur:E,"onClick:control":a.value?R:void 0,"onClick:prepend":a.value?R:void 0,"onUpdate:modelValue":ee}),{...d,default:()=>{var O;return l(ue,null,[l($e,{modelValue:b.value,"onUpdate:modelValue":x=>b.value=x,activator:"parent","min-width":"0",eager:v.value,location:e.location,closeOnContentClick:!1,openOnClick:!1},{default:()=>[l(we,_(V,{modelValue:u.value,"onUpdate:modelValue":x=>u.value=x,disabled:k.value,onSave:W,onCancel:G}),{default:x=>{let{actions:te,model:$,save:q,cancel:w,isPristine:fe}=x;function me(H){e.hideActions?(u.value=H,e.multiple||(b.value=!1)):$.value=H,r("save",H),k.value=[]}return l(Re,_(h,{modelValue:e.hideActions?u.value:$.value,"onUpdate:modelValue":H=>me(H),onMousedown:H=>H.preventDefault()}),{actions:e.hideActions?void 0:()=>{var H;return((H=d.actions)==null?void 0:H.call(d,{save:q,cancel:w,isPristine:fe}))??te()}})}})]}),(O=d.default)==null?void 0:O.call(d)])}})}),He({},c)}}),ta=L({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...Lt({filterKeys:["title"]}),...Bt(),...ae(je({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Yt({transition:!1})},"VAutocomplete"),ca=z()({name:"VAutocomplete",props:ta(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,n){let{slots:r}=n;const{t:d}=ce(),t=X(),i=K(!1),f=K(!0),v=K(!1),s=X(),m=X(),u=K(-1),b=D(()=>{var o;return(o=t.value)==null?void 0:o.color}),{items:p,transformIn:c,transformOut:k}=zt(e),{textColorClasses:g,textColorStyles:B}=Ft(b),y=j(e,"search",""),a=j(e,"modelValue",[],o=>c(o===null?[null]:ie(o)),o=>{const P=k(o);return e.multiple?P:P[0]??null}),N=D(()=>typeof e.counterValue=="function"?e.counterValue(a.value):typeof e.counterValue=="number"?e.counterValue:a.value.length),Y=Ht(e),{filteredItems:R,getMatches:G}=jt(e,p,()=>f.value?"":y.value),W=D(()=>e.hideSelected?R.value.filter(o=>!a.value.some(P=>P.value===o.value)):R.value),ee=D(()=>!!(e.chips||r.chip)),E=D(()=>ee.value||!!r.selection),V=D(()=>a.value.map(o=>o.props.value)),h=D(()=>{var P;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&y.value===((P=W.value[0])==null?void 0:P.title))&&W.value.length>0&&!f.value&&!v.value}),C=D(()=>e.hideNoData&&!W.value.length||Y.isReadonly.value||Y.isDisabled.value),O=j(e,"menu"),x=D({get:()=>O.value,set:o=>{var P;O.value&&!o&&((P=s.value)!=null&&P.ΨopenChildren.size)||o&&C.value||(O.value=o)}}),te=D(()=>x.value?e.closeText:e.openText),$=X(),q=Tt($,t);function w(o){e.openOnClear&&(x.value=!0),y.value=""}function fe(){C.value||(x.value=!0)}function me(o){C.value||(i.value&&(o.preventDefault(),o.stopPropagation()),x.value=!x.value)}function H(o){var P;o.key!==" "&&Ce(o)&&((P=t.value)==null||P.focus())}function Ge(o){var S,I,U,Q,M;if(Y.isReadonly.value)return;const P=(S=t.value)==null?void 0:S.selectionStart,A=a.value.length;if(["Enter","ArrowDown","ArrowUp"].includes(o.key)&&o.preventDefault(),["Enter","ArrowDown"].includes(o.key)&&(x.value=!0),["Escape"].includes(o.key)&&(x.value=!1),h.value&&["Enter","Tab"].includes(o.key)&&!a.value.some(T=>{let{value:F}=T;return F===W.value[0].value})&&le(W.value[0]),o.key==="ArrowDown"&&h.value&&((I=$.value)==null||I.focus("next")),["Backspace","Delete"].includes(o.key)){if(!e.multiple&&E.value&&a.value.length>0&&!y.value)return le(a.value[0],!1);if(~u.value){o.preventDefault();const T=u.value;le(a.value[u.value],!1),u.value=T>=A-1?A-2:T}else o.key==="Backspace"&&!y.value&&(u.value=A-1);return}if(e.multiple)if(o.key==="ArrowLeft"){if(u.value<0&&P&&P>0)return;const T=u.value>-1?u.value-1:A-1;if(a.value[T])u.value=T;else{const F=((U=y.value)==null?void 0:U.length)??null;u.value=-1,(Q=t.value)==null||Q.setSelectionRange(F,F)}}else if(o.key==="ArrowRight"){if(u.value<0)return;const T=u.value+1;a.value[T]?u.value=T:(u.value=-1,(M=t.value)==null||M.setSelectionRange(0,0))}else~u.value&&Ce(o)&&(u.value=-1)}function et(o){if(xe(t.value,":autofill")||xe(t.value,":-webkit-autofill")){const P=p.value.find(A=>A.title===o.target.value);P&&le(P)}}function tt(){var o;e.eager&&((o=m.value)==null||o.calculateVisibleItems())}function at(){var o;i.value&&(f.value=!0,(o=t.value)==null||o.focus())}function lt(o){i.value=!0,setTimeout(()=>{v.value=!0})}function nt(o){v.value=!1}function ut(o){(o==null||o===""&&!e.multiple&&!E.value)&&(a.value=[])}const he=K(!1);function le(o){let P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!o||o.props.disabled))if(e.multiple){const A=a.value.findIndex(I=>(e.valueComparator||Te)(I.value,o.value)),S=P??!~A;if(~A){const I=S?[...a.value,o]:[...a.value];I.splice(A,1),a.value=I}else S&&(a.value=[...a.value,o]);e.clearOnSelect&&(y.value="")}else{const A=P!==!1;a.value=A?[o]:[],y.value=A&&!E.value?o.title:"",ke(()=>{x.value=!1,f.value=!0})}}return ne(i,(o,P)=>{var A;o!==P&&(o?(he.value=!0,y.value=e.multiple||E.value?"":String(((A=a.value.at(-1))==null?void 0:A.props.title)??""),f.value=!0,ke(()=>he.value=!1)):(!e.multiple&&y.value==null&&(a.value=[]),x.value=!1,(e.multiple||E.value)&&(y.value=""),u.value=-1))}),ne(y,o=>{!i.value||he.value||(o&&(x.value=!0),f.value=!o)}),ne(x,()=>{if(!e.hideSelected&&x.value&&a.value.length){const o=W.value.findIndex(P=>a.value.some(A=>P.value===A.value));kt&&window.requestAnimationFrame(()=>{var P;o>=0&&((P=m.value)==null||P.scrollToIndex(o))})}}),ne(()=>e.items,(o,P)=>{x.value||i.value&&!P.length&&o.length&&(x.value=!0)}),J(()=>{const o=!!(!e.hideNoData||W.value.length||r["prepend-item"]||r["append-item"]||r["no-data"]),P=a.value.length>0,A=de.filterProps(e);return l(de,_({ref:t},A,{modelValue:y.value,"onUpdate:modelValue":[S=>y.value=S,ut],focused:i.value,"onUpdate:focused":S=>i.value=S,validationValue:a.externalValue,counterValue:N.value,dirty:P,onChange:et,class:["v-autocomplete",`v-autocomplete--${e.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":x.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!E.value,"v-autocomplete--selecting-index":u.value>-1},e.class],style:e.style,readonly:Y.isReadonly.value,placeholder:P?void 0:e.placeholder,"onClick:clear":w,"onMousedown:control":fe,onKeydown:Ge}),{...r,default:()=>l(ue,null,[l($e,_({ref:s,modelValue:x.value,"onUpdate:modelValue":S=>x.value=S,activator:"parent",contentClass:"v-autocomplete__content",disabled:C.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:tt,onAfterLeave:at},e.menuProps),{default:()=>[o&&l(Jt,_({ref:$,selected:V.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:S=>S.preventDefault(),onKeydown:H,onFocusin:lt,onFocusout:nt,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},q,e.listProps),{default:()=>{var S,I,U;return[(S=r["prepend-item"])==null?void 0:S.call(r),!W.value.length&&!e.hideNoData&&(((I=r["no-data"])==null?void 0:I.call(r))??l(pe,{key:"no-data",title:d(e.noDataText)},null)),l(Nt,{ref:m,renderless:!0,items:W.value,itemKey:"value"},{default:Q=>{var De;let{item:M,index:T,itemRef:F}=Q;const be=_(M.props,{ref:F,key:M.value,active:h.value&&T===0?!0:void 0,onClick:()=>le(M,null)});return((De=r.item)==null?void 0:De.call(r,{item:M,index:T,props:be}))??l(pe,_(be,{role:"option"}),{prepend:re=>{let{isSelected:it}=re;return l(ue,null,[e.multiple&&!e.hideSelected?l(Wt,{key:M.value,modelValue:it,ripple:!1,tabindex:"-1"},null):void 0,M.props.prependAvatar&&l(Rt,{image:M.props.prependAvatar},null),M.props.prependIcon&&l(Se,{icon:M.props.prependIcon},null)])},title:()=>{var re;return f.value?M.title:Kt("v-autocomplete",M.title,(re=G(M))==null?void 0:re.title)}})}}),(U=r["append-item"])==null?void 0:U.call(r)]}})]}),a.value.map((S,I)=>{function U(F){F.stopPropagation(),F.preventDefault(),le(S,!1)}const Q={"onClick:close":U,onKeydown(F){F.key!=="Enter"&&F.key!==" "||(F.preventDefault(),F.stopPropagation(),U(F))},onMousedown(F){F.preventDefault(),F.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},M=ee.value?!!r.chip:!!r.selection,T=M?gt(ee.value?r.chip({item:S,index:I,props:Q}):r.selection({item:S,index:I})):void 0;if(!(M&&!T))return l("div",{key:S.value,class:["v-autocomplete__selection",I===u.value&&["v-autocomplete__selection--selected",g.value]],style:I===u.value?B.value:{}},[ee.value?r.chip?l(ve,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:S.title}}},{default:()=>[T]}):l(Et,_({key:"chip",closable:e.closableChips,size:"small",text:S.title,disabled:S.props.disabled},Q),null):T??l("span",{class:"v-autocomplete__selection-text"},[S.title,e.multiple&&I<a.value.length-1&&l("span",{class:"v-autocomplete__selection-comma"},[Be(",")])])])})]),"append-inner":function(){var Q,M;for(var S=arguments.length,I=new Array(S),U=0;U<S;U++)I[U]=arguments[U];return l(ue,null,[(Q=r["append-inner"])==null?void 0:Q.call(r,...I),e.menuIcon?l(Se,{class:"v-autocomplete__menu-icon",color:(M=t.value)==null?void 0:M.fieldIconColor,icon:e.menuIcon,onMousedown:me,onClick:yt,"aria-label":d(te.value),title:d(te.value),tabindex:"-1"},null):void 0])}})}),He({isFocused:i,isPristine:f,menu:x,search:y,filteredItems:R,select:le},t)}});export{ca as V,da as a};
