import{V as _,u as v}from"./C9gZUG4V.js";import{V as P,a as w,b as k}from"./BlJHhmKW.js";import{V as x}from"./CHfzt3nV.js";import{V as B}from"./DiBmJwpk.js";import{V as c}from"./DDjf37J6.js";import{r as m,H as u,A as a,v as r,z as s,x as f,I as C,J as n,B as i,t as y,M as D,N,y as V}from"./CiA_oicf.js";import"./BUJoXXNz.js";import"./k2lxhg6K.js";import"./Du5WEFTM.js";import"./D8x_SnBP.js";const S={class:"my-10"},T={key:0},H={__name:"itenerary",setup(F){const l=m(""),d=m(0),p=m([]);async function g(o){console.log(o);const{data:e,error:t}=await v("/api/itenerary",{query:{search:o.search,page:o.page,itemsPerPage:o.itemsPerPage}});p.value=e.value.data,d.value=e.value.pagination.total,console.log(e.value.data)}return(o,e)=>(r(),u(P,{class:"my-10"},{default:a(()=>[s(w,{justify:"space-between"},{default:a(()=>[s(k,null,{default:a(()=>e[1]||(e[1]=[f("h2",null,"Itenerary Report",-1)])),_:1})]),_:1}),f("div",S,[s(_,{modelValue:n(l),"onUpdate:modelValue":e[0]||(e[0]=t=>C(l)?l.value=t:null),"prepend-inner-icon":"mdi-magnify",variant:"outlined",color:"primary",label:"Search Products",placeholder:"Search for Account ID, Name, Collector, etc...",rounded:"lg"},null,8,["modelValue"]),s(x,{"items-length":n(d),search:n(l),items:n(p),"onUpdate:options":g},{"item.past_due":a(t=>[i(V(t.item.past_due)+"th day of month ",1)]),"item.hasPastDue":a(t=>[t.item.hasPastDue.length>0?(r(),y("span",T,[(r(!0),y(D,null,N(t.item.hasPastDue,h=>(r(),u(c,{class:"ma-1",color:"red",size:"small"},{default:a(()=>[i(V(new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long"}).format(new Date(h))),1)]),_:2},1024))),256))])):(r(),u(c,{key:1,class:"ma-1",color:"green",size:"small"},{default:a(()=>e[2]||(e[2]=[i("No Past Dues")])),_:1}))]),"item.action":a(t=>[s(B,{variant:"outlined",color:"grey-darken-2",to:`/employees/${t.item.id}`,"prepend-icon":"mdi-eye"},{default:a(()=>e[3]||(e[3]=[i("View")])),_:2},1032,["to"])]),_:1},8,["items-length","search","items"])])]),_:1}))}};export{H as default};
