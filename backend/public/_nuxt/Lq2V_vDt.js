import{a as z,r as i,u as D,H as P,A as a,v as d,z as o,x as t,I as b,J as g,B as u,K as y,t as k,L as F}from"./BqUFuwH_.js";import{V as w,u as I}from"./sMAdQfB6.js";import{V as T,a as U,b as C}from"./B_Nhs0y7.js";import{V as B,R as N}from"./BszYr6sx.js";import{V as _,a as $}from"./Cm-IjFOL.js";import{V as A}from"./BSP3Fj0n.js";const S={class:"mb-12 text-center d-block d-md-none"},j={class:"my-5 d-flex justify-space-between"},E={class:"text-grey text-decoration-none pa-1 d-inline-block",href:"#!"},H={class:"text-grey text-decoration-none pa-1 d-inline-block",href:"#!"},O={__name:"index",setup(J){const{$toast:m}=z(),p=i(!1),r=i(""),n=i(""),L=D();async function R(){var c,f,v,x,V;p.value=!0;const{data:l,error:e}=I("/api/login",{method:"post",body:{username:r.value,password:n.value}});if(e.value||!((c=l.value)!=null&&c.user)){p.value=!0,m.fire({title:e.value.response||"Invalid username or password",icon:"error"});return}let s=F("userData");console.log((f=l.value)==null?void 0:f.user),s.value={...(v=l.value)==null?void 0:v.user},m.fire({title:`Welcome ${(V=(x=l.value)==null?void 0:x.user)==null?void 0:V.name}!`,icon:"success"}),L.replace("/dashboard")}return(l,e)=>(d(),P(T,{"min-height":"100vh"},{default:a(()=>[o(U,{class:"fill-height","align-sm":"top","align-md":"center"},{default:a(()=>[o(C,{cols:"12",sm:"12",md:"6",class:"text-center d-none d-md-block"},{default:a(()=>[o(B,{icon:"mdi-account-lock",size:"70",color:"primary"}),e[3]||(e[3]=t("h2",{class:"text-bold my-2"},"Nex Softwares v2",-1)),e[4]||(e[4]=t("p",null,"Login Portal",-1))]),_:1}),o(C,{cols:"12",sm:"12",md:"6",class:"border-s-md align-center d-flex d-md-block"},{default:a(()=>[o(_,{"max-width":"400",class:"mx-auto",flat:""},{default:a(()=>[o($,null,{default:a(()=>[t("div",S,[o(B,{icon:"mdi-account-lock",size:"70",color:"primary"}),e[5]||(e[5]=t("h2",{class:"text-bold my-2"},"Nex Softwares v2",-1)),e[6]||(e[6]=t("p",null,"Login Portal",-1))]),o(w,{modelValue:g(r),"onUpdate:modelValue":e[0]||(e[0]=s=>b(r)?r.value=s:null),"prepend-inner-icon":"mdi-account",variant:"outlined",color:"primary",label:"Username"},null,8,["modelValue"]),o(w,{modelValue:g(n),"onUpdate:modelValue":e[1]||(e[1]=s=>b(n)?n.value=s:null),"prepend-inner-icon":"mdi-key",variant:"outlined",color:"primary",label:"Password",type:"password"},null,8,["modelValue"]),o(A,{onClick:e[2]||(e[2]=s=>R()),block:"",class:"mt-2",color:"primary",size:"large"},{default:a(()=>e[7]||(e[7]=[u("Login")])),_:1}),t("p",j,[y((d(),k("a",E,e[8]||(e[8]=[u("Forgot Password?")]))),[[N]]),y((d(),k("a",H,e[9]||(e[9]=[u("Contact Developer")]))),[[N]])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}};export{O as default};
