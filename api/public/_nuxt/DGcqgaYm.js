import{V,u as g}from"./i-WsA3QQ.js";import{V as v,a as y,b as u}from"./Bb3mfomy.js";import{V as d}from"./Df6Uz6oL.js";import{V as _}from"./CXoGMi5h.js";import{r as n,H as h,A as t,v as x,z as o,x as c,B as p,I as C,J as l}from"./BFWgPRQx.js";import"./BJAK-iIt.js";import"./rRK0rm3L.js";import"./DJUsrzYD.js";import"./CgAPhWwA.js";import"./BSp6jQBQ.js";const w={class:"my-10"},R={__name:"index",setup(B){const r=n(""),i=n(0),m=n([]);async function f(a){console.log(a);const{data:e,error:s}=await g("/api/customers",{query:{search:a.search,page:a.page,itemsPerPage:a.itemsPerPage}});m.value=e.value.data,i.value=e.value.pagination.total,console.log(e.value.data)}return(a,e)=>(x(),h(v,{class:"my-10"},{default:t(()=>[o(y,{justify:"space-between"},{default:t(()=>[o(u,null,{default:t(()=>e[1]||(e[1]=[c("h2",null,"Customers (10)",-1)])),_:1}),o(u,{class:"text-right"},{default:t(()=>[o(d,{rounded:"",size:"large",variant:"tonal",to:"/customers/new","prepend-icon":"mdi-account-plus",color:"primary"},{default:t(()=>e[2]||(e[2]=[p("New Customer")])),_:1})]),_:1})]),_:1}),c("div",w,[o(V,{modelValue:l(r),"onUpdate:modelValue":e[0]||(e[0]=s=>C(r)?r.value=s:null),"prepend-inner-icon":"mdi-magnify",variant:"outlined",color:"primary",label:"Search Customers",placeholder:"Search for Account ID, Name, Collector, etc...",rounded:"lg"},null,8,["modelValue"]),o(_,{"items-length":l(i),search:l(r),items:l(m),"onUpdate:options":f},{"item.action":t(s=>[o(d,{variant:"outlined",color:"grey-darken-2",to:`/customers/${s.item.id}`,"prepend-icon":"mdi-eye"},{default:t(()=>e[3]||(e[3]=[p("View")])),_:2},1032,["to"])]),_:1},8,["items-length","search","items"])])]),_:1}))}};export{R as default};
